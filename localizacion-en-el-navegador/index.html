<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Localizacion en el navegador y el caso es-419</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="../assets/favicon.ico" />

    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/css/normalize.css?v=8a6c24daa2"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/css/foundation.min.css?v=8a6c24daa2"
    />
    <!--[if lte IE 8]>
      <link
        rel="stylesheet"
        type="text/css"
        href="/assets/css/outdatedBrowser.min.css?v=8a6c24daa2"
      />
    <![endif]-->
    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/fonts/foundation-icons/foundation-icons.css?v=8a6c24daa2"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="../assets/css/styles.css?v=8a6c24daa2"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,700,400|Source+Sans+Pro:300,400,600,700,900,300italic,400italic,600italic,700italic,900italic"
    />

    <link
      rel="resource"
      type="application/l10n"
      href="../assets/locales/locales.ini?v=8a6c24daa2"
    />

    <link
      rel="canonical"
      href="https://lcamacho.github.io/localizacion-en-el-navegador/"
    />

    <meta property="og:site_name" content="Leonard Camacho blog" />
    <meta property="og:type" content="article" />
    <meta
      property="og:title"
      content="Localizacion en el navegador y el caso es-419"
    />
    <meta
      property="og:description"
      content="En la busqueda de que el blog se adapte al idioma del usuario me tope con un par de problemas: Ghost, la plataforma de blogging que estoy usando aun no tiene una forma definida de como realizar traducciones.   No puedo..."
    />
    <meta
      property="og:url"
      content="https://lcamacho.github.io/localizacion-en-el-navegador/"
    />
    <meta
      property="article:published_time"
      content="2014-10-30T20:51:00.000Z"
    />
    <meta property="article:modified_time" content="2014-10-30T23:57:00.703Z" />
    <meta property="article:tag" content="localization" />

    <meta name="twitter:card" content="summary" />
    <meta
      name="twitter:title"
      content="Localizacion en el navegador y el caso es-419"
    />
    <meta
      name="twitter:description"
      content="En la busqueda de que el blog se adapte al idioma del usuario me tope con un par de problemas: Ghost, la plataforma de blogging que estoy usando aun no tiene una forma definida de como realizar traducciones.   No puedo..."
    />
    <meta
      name="twitter:url"
      content="https://lcamacho.github.io/localizacion-en-el-navegador/"
    />

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "Article",
        "publisher": "Leonard Camacho blog",
        "author": {
          "@type": "Person",
          "name": "Leonard Camacho",
          "image": "https://lcamacho.github.io/content/images/2014/10/icon128-1.png",
          "url": "https://lcamacho.github.io/author/leonard",
          "sameAs": null
        },
        "headline": "Localizacion en el navegador y el caso es-419",
        "url": "https://lcamacho.github.io/localizacion-en-el-navegador/",
        "datePublished": "2014-10-30T20:51:00.000Z",
        "dateModified": "2014-10-30T23:57:00.703Z",
        "keywords": "localization",
        "description": "En la busqueda de que el blog se adapte al idioma del usuario me tope con un par de problemas: Ghost, la plataforma de blogging que estoy usando aun no tiene una forma definida de como realizar traducciones.   No puedo"
      }
    </script>

    <meta name="generator" content="Ghost 0.5" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Leonard Camacho blog"
      href="../rss/index.html"
    />

    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1597030062345622"
      crossorigin="anonymous"
    ></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NGCRX4YCZM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-NGCRX4YCZM');
    </script>
  </head>
  <body class="post-template tag-localization">
    <div id="outdated">
      <h6>Your browser is out-of-date!</h6>
      <p>
        Update your browser to view this website correctly.
        <a id="btnUpdate" href="http://outdatedbrowser.com/"
          >Update my browser now</a
        >
      </p>
    </div>

    <nav class="top-bar hide-for-large-up" data-topbar style="background: none">
      <ul class="title-area">
        <li class="name"></li>
        <li class="home"><a class="fi-home" href="../index.html"></a></li>
        <!--  <li class="toggle-topbar"><a href="#" id="trigger-overlay" class="fi-list"></a></li> -->
      </ul>

      <div class="overlay overlay-scale">
        <button type="button" class="overlay-close" data-l10n-id="close">
          Close
        </button>
        <nav>
          <ul>
            <li><a href="../index.html" data-l10n-id="home">Home</a></li>
            <!-- <li><a href="https://lcamacho.github.io/about">About</a></li>
            <li><a href="https://lcamacho.github.io/contact">Contact</a></li> -->
          </ul>
        </nav>
      </div>
    </nav>

    <div class="row">
      <div
        class="small-16 medium-16 large-4 columns right head-area bgimage"
        style="
          background-image: url(../content/images/2014/Aug/Best-Iron-Man-3-Wallpaper-small-2.jpg);
        "
      >
        <header class="site-head">
          <div class="vertical">
            <div class="site-head-content inner">
              <ul class="side-nav blog-menu show-for-large-up">
                <li><a class="fi-home" href="../index.html"></a></li>
                <!-- <li><a class="fi-torso" href="https://lcamacho.github.io/about"></a></li>
                <li><a class="fi-mail" href="https://lcamacho.github.io/contact"></a></li> -->
              </ul>
              <a class="blog-logo" href="../index.html"
                ><img
                  alt="Leonard Camacho blog"
                  src="../content/images/2014/Aug/reactor_arc_thumbnail-4.png"
                  width="96"
                  height="96"
              /></a>
              <h1 class="blog-title">Leonard Camacho blog</h1>
              <hr />
              <p class="blog-description">Mi espacio en internet</p>
              <div class="blog-network">
                <!--                 <a href="#" class="fi-social-pinterest"></a>
                <a href="#" class="fi-social-linkedin"></a>
                <a href="#" class="fi-social-behance"></a>
                <a href="#" class="fi-social-deviant-art"></a>
                <a href="#" class="fi-social-dribbble"></a>
                <a href="#" class="fi-social-flickr"></a>
                <a href="#" class="fi-social-github"></a>
                <a href="#" class="fi-social-skype"></a>
                <a href="#" class="fi-social-snapchat"></a>
                <a href="#" class="fi-social-steam"></a>
                <a href="#" class="fi-social-xbox"></a>
                <a href="#" class="fi-social-reddit"></a>
                <a href="#" class="fi-rss"></a>
                <a href="#" class="fi-social-google-plus"></a>
                <a href="#" class="fi-social-youtube"></a>
                <a href="#" class="fi-social-facebook"></a> -->
                <a
                  href="https://github.com/lcamacho"
                  class="fi-social-github"
                ></a>
                <a
                  href="https://twitter.com/leonardcamacho"
                  class="fi-social-twitter"
                ></a>
              </div>
            </div>
          </div>
        </header>
      </div>

      <div class="small-16 medium-16 large-12 columns main-column left">
        <main class="content" role="main">
          <article class="post tag-localization">
            <h1 class="post-title">
              Localizacion en el navegador y el caso es-419
            </h1>

            <span class="post-meta label"
              ><time datetime="2014-10-30">30 Oct 2014</time></span
            >

            <section class="post-content">
              <p>
                En la busqueda de que el blog se adapte al idioma del usuario me
                tope con un par de problemas:
              </p>

              <ol>
                <li>
                  Ghost, la plataforma de blogging que estoy usando aun no tiene
                  una forma definida de como realizar traducciones.
                </li>
                <li>
                  No puedo detectar el idioma del usuario en backend ya que el
                  blog esta en github pages.
                </li>
              </ol>

              <p>
                De manera que solo queda la opción de usar javascript para
                detectar el idioma y realizar la localización.
              </p>

              <p>
                Por fortuna ya la gente de Mozilla se habia topado con este
                problema de manera que crearon el proyecto webl10n y la forma de
                utilizarlo es muy sencilla:
              </p>

              <ul>
                <li>
                  Creas un archivo locales.ini, donde vas a indicar los idiomas
                  que vas a detectar asi como el archivo donde se encontraran
                  las traducciones para cada idioma.
                </li>
              </ul>

              <pre><code>@import url(en/app.properties)
[es]
@import url(es/app.properties)
</code></pre>

              <ul>
                <li>
                  Creas los archivos de traducciones, en este caso
                  app.properties, aqui colocas el identificador de la oración y
                  su traducción.
                </li>
              </ul>

              <pre><code class="        ">read-more = Leer más  
share-it = ¿Te gusto el artículo? Compartelo.  
</code></pre>

              <ul>
                <li>Se agrega la libreria y el locales.ini a la página.</li>
              </ul>

              <pre><code class="html        ">&lt;link rel="resource" type="application/l10n" href="locales/locales.ini"&gt;  
&lt;script type="text/javascript" src="js/l10n.js"&gt;  
</code></pre>

              <ul>
                <li>
                  Finalmente agregas el identificador de la oración al html
                  utilizando el atributo "data-l10n-id".
                </li>
              </ul>

              <pre><code class="html">&lt;h4 data-l10n-id="share-it"&gt;Liked this post ? Share it.&lt;/h4&gt;  
</code></pre>

              <p>
                Si quieres más informacion de la librería puedes ver revisar el
                <a href="https://github.com/fabi1cazenave/webL10n"
                  >repositorio del proyecto</a
                >
                o la página de
                <a
                  href="https://developer.mozilla.org/en-US/Apps/Build/Localization/Localizing_Open_Web_Apps"
                  >localización de webapps en MDN</a
                >.
              </p>

              <p>
                A pesar de los fácil de usar, la librería tiene algunos
                problemas:
              </p>

              <ul>
                <li>
                  <p>
                    Si el usuario tiene desactivado javascript (algo poco
                    probable) o si esta usando No Script no se mostraran las
                    traducciones, por esto es mejor escribir por defecto en un
                    idioma que la mayoria entienda (ingles).
                  </p>
                </li>
                <li>
                  <p>
                    Cuando se tiene un elemento html en medio de la oración por
                    ejemplo un link, la traducción solo reemplaza la parte de la
                    oración antes del link.
                  </p>

                  <p>
                    Para poder traducir el texto del link se le debe tratar como
                    una oración diferente agregandole un identificador e
                    igualmente con el resto de la oración se le debe encerrar en
                    otro elemento html para tratarlo como otra oración.
                  </p>
                </li>
              </ul>

              <pre><code class="html">&lt;p data-l10n-id="primero"&gt;Primera parte de la oracion &lt;a href="http://lcamacho.github.io" data-l10n-id="link"&gt;el link a mi blog&lt;/a&gt; &lt;span data-l10n-id="segundo"&gt;y la segunda parte&lt;/span&gt;&lt;/p&gt;  
</code></pre>

              <h2 id="elcasoes419es419anamees419a">
                <a href="index.html#es-419">El caso es-419</a
                ><a name="es-419"></a>
              </h2>

              <p>
                Ya con todas las traducciones restaba probarlo y en casi todos
                los navegadores funciono, la sorpresa vino con Chrome y el nuevo
                Opera que ahora usa el mismo motor de Chrome.
              </p>

              <p>
                En ambos se mostraba la versión en ingles a pesar de estar
                usandolos en español; para estar seguro del idioma del navegador
                ejecute en consola <code>navigator.language</code> para ver el
                identificador que devuelve Chrome.
              </p>

              <p>
                <img
                  src="../content/images/2014/10/Captura-de-pantalla-2014-10-30-a-las-16-19-32.png"
                  alt="navigator.language devuelve es-419"
                />
              </p>

              <p>
                Lo cual me parecio un poco raro porque en otros navegadores como
                Firefox devuelve "es-AR" (identificador de idioma -
                identificador de pais), pero luego encontre en la IANA que
                <a href="https://www.iana.org/assignments/lang-tags/es-419"
                  >"es-419" es el identificador para el español de
                  latinoamerica</a
                >
                algo asi como un español neutro para latinoamerica (si es que
                tal cosa existe,
                <a href="https://www.youtube.com/watch?v=Xyp7xt-ygy0"
                  >recordemos lo dificil que es hablar el español</a
                >).
              </p>

              <p>
                Para lograr que webl10n reconozca este idioma basta con colocar
                en el locales.ini un par de lineas, primero
                <code>[es-419]</code> y luego la linea para indicar donde esta
                el archivo de traducciones pero para evitar esto envie un
                <a href="https://github.com/fabi1cazenave/webL10n/pull/47"
                  >pull request</a
                >
                para lograr que la librería reconozca identificadores de idiomas
                que contengan números y sean correctamente dirigidos al idioma
                base, en este caso para ser dirigidos a las traducciones de
                <code>[es]</code>.
              </p>
              <aside class="tags fi-pricetag-multiple">
                Posted on
                <a href="../tag/localization/index.html">localization</a>
              </aside>
            </section>
            <hr />
            <footer class="post-footer">
              <section class="share">
                <h4 data-l10n-id="share-it">Liked this post ? Share it.</h4>
                <a
                  class="fi-social-facebook"
                  href="https://www.facebook.com/sharer/sharer.php?u=https://lcamacho.github.io/localizacion-en-el-navegador/"
                  onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;"
                >
                </a>
                <a
                  class="fi-social-twitter"
                  href="https://twitter.com/share?text=Localizacion%20en%20el%20navegador%20y%20el%20caso%20es-419&amp;url=https://lcamacho.github.io/localizacion-en-el-navegador/"
                  onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;"
                >
                </a>
              </section>

              <!-- <section class="author">
                    <header>
                        <span>About the author</span>
                    </header>
                    <section>
                        <h4>Leonard Camacho</h4>
                        <img src="/content/images/2014/10/icon128-1.png">
                        
                        
                    </section>
                    <footer>
                         <p></p>
                    </footer>
                </section> -->

              <div class="clearfix"></div>
              <hr />
            </footer>

            <h3 class="title-disqus">
              <span class="fi-comments"></span
              ><span data-l10n-id="discussions">Discussions</span>
            </h3>
            <div id="disqus_thread"></div>
            <script type="text/javascript">
              var disqus_shortname = "leonardcamachoblog"; // required: replace example with your forum shortname
              var disqus_identifier = "9"; // make sure to use the post.id as an identifier, otherwise disqus will use the pages url per default, which might be problematic...
              var disqus_config;

              window.addEventListener(
                "localized",
                function () {
                  if (
                    "es" ===
                    document.webL10n.getLanguage().replace(/-[a-z0-9]+$/i, "")
                  ) {
                    disqus_config = function () {
                      this.language = "es_MX";
                    };
                  }

                  /* * * DON'T EDIT BELOW THIS LINE * * */
                  (function () {
                    var dsq = document.createElement("script");
                    dsq.type = "text/javascript";
                    dsq.async = true;
                    dsq.src = "//" + disqus_shortname + ".disqus.com/embed.js";
                    (
                      document.getElementsByTagName("head")[0] ||
                      document.getElementsByTagName("body")[0]
                    ).appendChild(dsq);
                  })();
                },
                false
              );
            </script>
            <noscript
              >Please enable JavaScript to view the
              <a href="http://disqus.com/?ref_noscript"
                >comments powered by Disqus.</a
              ></noscript
            >
            <a href="http://disqus.com" class="dsq-brlink"
              >comments powered by <span class="logo-disqus">Disqus</span></a
            >
          </article>
        </main>
      </div>
    </div>

    <script src="../public/jquery.min.js?v=8a6c24daa2"></script>

    <!--[if lte IE 8]>
      <script
        type="text/javascript"
        src="/assets/js/outdatedBrowser.min.js?v=8a6c24daa2"
      ></script>
    <![endif]-->
    <script
      type="text/javascript"
      src="../assets/js/vendor/fastclick.js?v=8a6c24daa2"
    ></script>
    <script
      type="text/javascript"
      src="../assets/js/vendor/modernizr.js?v=8a6c24daa2"
    ></script>
    <script
      type="text/javascript"
      src="../assets/js/l10n.min.js?v=8a6c24daa2"
    ></script>

    <script
      type="text/javascript"
      src="../assets/js/jquery.fitvids.js?v=8a6c24daa2"
    ></script>
    <script
      type="text/javascript"
      src="../assets/js/index.js?v=8a6c24daa2"
    ></script>

    <script
      type="text/javascript"
      src="../assets/js/foundation.min.js?v=8a6c24daa2"
    ></script>
    <script
      type="text/javascript"
      src="../assets/js/overlay/snap.svg-min.js?v=8a6c24daa2"
    ></script>
    <script
      type="text/javascript"
      src="../assets/js/overlay/classie.js?v=8a6c24daa2"
    ></script>
    <script
      type="text/javascript"
      src="../assets/js/overlay/demo1.js?v=8a6c24daa2"
    ></script>
    <script
      type="text/javascript"
      src="../assets/js/vendor/smoothscroll.js?v=8a6c24daa2"
    ></script>

    <script>
      $(document).foundation();
    </script>
  </body>
</html>
